{% extends 'website/base.html' %}
{% load widget_tweaks %}
{% load staticfiles %}
{% load deck_templatetags %}
{% block content %}
    <div class="body-content">
        <div class="main-content" style="color:white;">
            <div class="group-container">
                <div class="field-container">
                    <h1>{{ deck.name }}</h1>
                </div>
                <div class="field-container">
                    {{ deck.description }}
                </div>
                <div class="field-container">
                    {{ deck.date_created }}
                </div>
            </div>
            <div class="group-container">
                <div style="column-count: 3">
                    <div style="font-weight: bold;">Total {{ deck.get_card_count }}</div>
                    {% for group_name, cards in deck.get_card_groups.items %}
                        {% if cards.exists %}
                            <div style="break-inside: avoid;">
                                <div style="font-weight: bold;">{{ group_name }} ({{ cards|deck_group_count }})</div>
                                {% for deck_card in cards.all %}
                                    <div>{{ deck_card.as_deck_text }}</div>
                                {% endfor %}
                            </div>
                        {% endif %}
                    {% endfor %}
                </div>
            </div>
            <div class="group-container">
                <div class="row">
                    <a href="{% url 'website:deck_edit' deck_id=deck.id %}">Edit</a>
                    <a href="{% url 'website:decks' %}">Back</a>
                </div>
            </div>
        </div>
    </div>
{% endblock %}