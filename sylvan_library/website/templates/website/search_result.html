{% load mtg_font %}
{% load card_image %}
{% load card_ownership %}
{% load staticfiles %}


{% block content %}

    <div class="sk-hits-list-hit sk-hits-list__item js-card-result"
         data-card-id="{{ result.card.id }}"
         style="display:block;">
        <div style="display:flex;">
            <div class="listImgDiv ">
                <img class="clicked listImg"
                     src="{% static result.selected_printing|card_printing_image_url|safe %}" alt="{{ card.name }}"
                     style="border-radius: 10px; cursor: pointer;"
                     width="100"/>
            </div>

            <div style="width:100%;">
                <div style="display:flex;">
                    <div class="sk-hits-list-hit__details" style="display:inline-block;">
                        <h2 class="sk-hits-list-hit__title">
                            <a href="{% url 'website:card_detail' card_id=result.card.id %}"
                               target="_blank">{{ result.card.name }}</a>

                            <!--<span> </span>
                            <img src="./src/img/1.png" height="15px">
                            <img src="./src/img/b.png" height="15px">
                            -->
                            {{ result.card.cost | replace_mtg_font_symbols | safe }}
                            <span> (</span><span>{{ result.card.cmc | floatformat }}</span><span>)</span>
                            <!--<span></span>
                            <span> </span>-->
                            {% if request.user %}
                                <span class="disqus-comment-count"
                                      style="font-variant:small-caps;float:right;cursor:pointer;padding-right:8px;font-size:smaller;">
                                    You own: {{ result.card|user_card_ownership_count:request.user }}
                                </span>
                            {% endif %}
                        </h2>
                        <div style="display:inline-flex;" class="sk-hits-list-hit__subtitle typeLine">
                            <div style="display:inline-flex;">
                                <span class="sk-tag-filter">{{ result.card.type }}</span>
                                {% if result.card.subtype %}
                                    <span>&ndash;</span>
                                    <span>{{ result.card.subtype }}</span>
                                {% endif %}
                            </div>
                            <span></span>
                        </div>
                        <h3 class="sk-hits-list-hit__subtitle">
                            <div>
                                {{ result.card.rules_text | replace_mtg_font_symbols | safe }}
                            </div>
                            <div>

                            </div>
                        </h3>
                    </div>
                    <div style="width:80px;position:relative;right:10px;text-align:center;padding-left:5px;">
                        <div></div>
                    </div>
                    <div style="width:150px;position:relative;right:10px;display:inline-block;">
                        <p style="text-align:center;max-height:200px;overflow-y:scroll;">

                            {% for printing in result.card.printings.all %}
                                <i class="setIcon ss
                                ss-{{ printing.set.code | lower }}
                                ss-{{ printing.rarity.name | lower }}
                                ss-2x
                                {% if printing.rarity.symbol != 'C' %}
                                    ss-grad
                                {% endif %}
                                {% if printing == result.selected_printing %}
                                    clicked
                                {% endif %}
                                {{ printing.rarity.symbol }}"
                                   title="{{ printing.set.name }}"></i>
                            {% endfor %}
                            <!--<img class="setIcon C" src="./src/img/sets/limitededitionalpha-C.jpg"
                                 title="Limited Edition Alpha">
                            <img class="setIcon C" src="./src/img/sets/limitededitionbeta-C.jpg"
                                 title="Limited Edition Beta">
                            <img class="setIcon C" src="./src/img/sets/unlimitededition-C.jpg"
                                 title="Unlimited Edition">
                            <img class="setIcon C" src="./src/img/sets/revisededition-C.jpg" title="Revised Edition">
                            <img class="setIcon C" src="./src/img/sets/fourthedition-C.jpg" title="Fourth Edition">
                            <img class="setIcon C" src="./src/img/sets/fifthedition-C.jpg" title="Fifth Edition">
                            <img class="setIcon C" src="./src/img/sets/classicsixthedition-C.jpg"
                                 title="Classic Sixth Edition">
                            <img class="setIcon C" src="./src/img/sets/battleroyaleboxset-C.jpg"
                                 title="Battle Royale Box Set">
                            <img class="setIcon C" src="./src/img/sets/starter2000-C.jpg" title="Starter 2000">
                            <img class="setIcon C" src="./src/img/sets/beatdownboxset-C.jpg" title="Beatdown Box Set">
                            <img class="setIcon C" src="./src/img/sets/mirrodin-C.jpg" title="Mirrodin">
                            <img class="setIcon C" src="./src/img/sets/tenthedition-C.jpg" title="Tenth Edition">
                            <img class="clicked setIcon C" src="./src/img/sets/masterseditioniv-C.jpg"
                                 title="Masters Edition IV"> -->
                        </p>
                    </div>
                </div>
                <div class="sk-hits-list-hit__details">
                    <div class="ReactTabs react-tabs">
                        <ul class="ReactTabs__TabList js-tabs" role="tablist">
                            <li class="ReactTabs__Tab ReactTabs__Tab--selected" role="tab" id="react-tabs-80"
                                aria-selected="true" aria-expanded="true" aria-disabled="false"
                                aria-controls="react-tabs-81"
                                tabindex="0" selected="selected">
                                <a href="#card-detail-tab-{{ card.id }}">Details</a>
                            </li>
                            <li class="ReactTabs__Tab" role="tab" id="react-tabs-82" aria-selected="false"
                                aria-expanded="false" aria-disabled="false" aria-controls="react-tabs-83">
                                <a href="#card-rulings-tab-{{ card.id }}">Rulings</a>
                            </li>
                            <li class="ReactTabs__Tab" role="tab" id="react-tabs-84" aria-selected="false"
                                aria-expanded="false" aria-disabled="false" aria-controls="react-tabs-85">
                                Languages
                            </li>
                            <li class="ReactTabs__Tab" role="tab" id="react-tabs-86" aria-selected="false"
                                aria-expanded="false" aria-disabled="false" aria-controls="react-tabs-87">
                                10 closest cards
                            </li>
                            <li class="ReactTabs__Tab" role="tab" id="react-tabs-88" aria-selected="false"
                                aria-expanded="false" aria-disabled="false" aria-controls="react-tabs-89">
                                Comments
                            </li>
                        </ul>
                        <div class="ReactTabs__TabPanel ReactTabs__TabPanel--selected" role="tabpanel"
                             id="react-tabs-81" aria-labelledby="react-tabs-80">
                            {% include "website/search_result_details.html" with printing=result.selected_printing %}
                        </div>
                        <div class="ReactTabs__TabPanel" role="tabpanel" id="react-tabs-83"
                             aria-labelledby="react-tabs-82" style="display:none;">
                            <div class="extraDetails" id="card-rulings-tab-{{ result.card.id }}">
                                <div>
                                    <div><span class="sk-hits-list-hit__subtitle"><b>2015-06-22: </b></span><span
                                            class="sk-hits-list-hit__subtitle"><div>Deep-Sea Terror's ability only checks as attackers are declared. After Deep-Sea Terror legally attacks, reducing the number of cards in your graveyard won't cause it to stop attacking.</div></span>
                                    </div>
                                </div>
                            </div>

                        </div>
                        <div class="ReactTabs__TabPanel" role="tabpanel" id="react-tabs-85"
                             aria-labelledby="react-tabs-84" style="display:none;"></div>
                        <div class="ReactTabs__TabPanel" role="tabpanel" id="react-tabs-87"
                             aria-labelledby="react-tabs-86" style="display:none;"></div>
                        <div class="ReactTabs__TabPanel" role="tabpanel" id="react-tabs-89"
                             aria-labelledby="react-tabs-88" style="display:none;"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>


{% endblock %}