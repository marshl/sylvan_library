{% load param_replace %}
{% load staticfiles %}

{% block head %}
    <script src="{% static "js/search_result.js" %}" type="text/javascript"></script>
{% endblock %}
{% block content %}
    <div class="results-page">
        <div class="action-bar">
            <div class="action-bar-row">
                <div class="result-count-container">
                    <div class="results-count">
                        {{ result_count }} results found
                    </div>
                </div>
                <div class="select-group">
                    <select>
                        <option value="name.raw_asc">Name
                            (ascending)
                        </option>
                        <option value="name.raw_desc">Name
                            (descending)
                        </option>
                        <option value="_score_asc">Relevance
                            (ascending)
                        </option>
                        <option value="_score_desc">Relevance
                            (descending)
                        </option>
                        <option value="colors_asc">Colour
                            (ascending)
                        </option>
                        <option value="colors_desc">Colour
                            (descending)
                        </option>
                        <option value="cmc_asc">CMC (ascending)
                        </option>
                        <option value="cmc_desc">CMC
                            (descending)
                        </option>
                        <option value="multiverseids.number_asc"
                        >Card number
                            (ascending)
                        </option>
                        <option value="multiverseids.number_desc"
                        >Card number
                            (descending)
                        </option>
                        <option value="multiverseids.medPrice_asc"
                        >Paper Price
                            (ascending)
                        </option>
                        <option value="multiverseids.medPrice_desc"
                        >Paper Price
                            (descending)
                        </option>
                        <option value="multiverseids.mtgoPrice_asc"
                        >MTGO Price
                            (ascending)
                        </option>
                        <option selected="" value="multiverseids.mtgoPrice_desc"
                        >MTGO Price
                            (descending)
                        </option>
                    </select>
                </div>
            </div>
        </div>
        {% if results %}
            <div class="search-result-list">
                {% for result in results %}
                    {% include "website/search_result.html" with card=result %}
                {% endfor %}
            </div>
        {% else %}
            <div class="no-search-results">
                <div class="no-search-results-content">
                    No results found
                </div>
            <br/>
            </div>
        {% endif %}
        {% if page_buttons|length > 3 %}
            <div class="pagination-container">
                <div class="page-button-list">
                    {% for page_button in page_buttons %}
                        <div class="page-button js-page-button
                                    {% if not page_button.enabled %}is-disabled{% endif %}
                                    {% if page_button.is_active %}is-active{% endif %}"
                             data-page-url="{% param_replace page=page_button.number %}">
                            <div class="page-button-text">
                                {% if page_button.is_previous %}
                                    Previous
                                {% elif page_button.is_next %}
                                    Next
                                {% elif page_button.is_spacer %}
                                    ...
                                {% else %}
                                    {{ page_button.number }}
                                {% endif %}</div>
                        </div>
                    {% endfor %}
                </div>
            </div>
        {% endif %}
    </div>
{% endblock %}