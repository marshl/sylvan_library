{% load param_replace %}
{% load staticfiles %}

{% block head %}
    <script src="{% static "js/search_result.js" %}" type="text/javascript"></script>
{% endblock %}
{% block content %}
    <div class="sk-layout__result sk-results-list">
        <div class="sk-results-list__action-bar sk-action-bar">
            <div class="sk-action-bar-row">
                <div class="result-count-container">
                    <div class="results-count">
                        {{ result_count }} results found
                    </div>
                </div>
                <div class="sk-select">
                    <select>
                        <option value="name.raw_asc">Name
                            (ascending)
                        </option>
                        <option value="name.raw_desc">Name
                            (descending)
                        </option>
                        <option value="_score_asc">Relevance
                            (ascending)
                        </option>
                        <option value="_score_desc">Relevance
                            (descending)
                        </option>
                        <option value="colors_asc">Colour
                            (ascending)
                        </option>
                        <option value="colors_desc">Colour
                            (descending)
                        </option>
                        <option value="cmc_asc">CMC (ascending)
                        </option>
                        <option value="cmc_desc">CMC
                            (descending)
                        </option>
                        <option value="multiverseids.number_asc"
                        >Card number
                            (ascending)
                        </option>
                        <option value="multiverseids.number_desc"
                        >Card number
                            (descending)
                        </option>
                        <option value="multiverseids.medPrice_asc"
                        >Paper Price
                            (ascending)
                        </option>
                        <option value="multiverseids.medPrice_desc"
                        >Paper Price
                            (descending)
                        </option>
                        <option value="multiverseids.mtgoPrice_asc"
                        >MTGO Price
                            (ascending)
                        </option>
                        <option selected="" value="multiverseids.mtgoPrice_desc"
                        >MTGO Price
                            (descending)
                        </option>
                    </select>
                </div>
            </div>
            <div>
                <div class="reset-filters-container">Clear all filters</div>
            </div>
        </div>
        <div class="sk-hits-list">
            {% for result in results %}
                {% include "website/search_result.html" with card=result %}
            {% endfor %}
        </div>
        {% if page_info|length > 3 %}
            <div class="pagination-container">
                <div class="page-button-list">
                    {% for page in page_info %}
                        <div class="page-button js-page-button
                                    {% if not page.enabled %}is-disabled{% endif %}
                                    {% if page.is_active %}is-active{% endif %}"
                             data-page-url="{% param_replace page=page.number %}">
                            <div class="page-button-text">
                                {% if page.is_previous %}
                                    Previous
                                {% elif page.is_next %}
                                    Next
                                {% elif page.is_spacer %}
                                    ...
                                {% else %}
                                    {{ page.number }}
                                {% endif %}</div>
                        </div>
                    {% endfor %}
                </div>
            </div>
        {% endif %}
    </div>
{% endblock %}